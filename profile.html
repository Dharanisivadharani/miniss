<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Profile | ShopSmart</title>
<style>
body { font-family: Arial, sans-serif; margin:0; background:#f4f4f4; }
/* Navbar */
header { background:#fff; padding:15px 50px; display:flex; justify-content:space-between; align-items:center; box-shadow:0 2px 5px rgba(0,0,0,0.1);}
.logo { font-size:24px; font-weight:bold; color:#007BFF; cursor:pointer; }
nav ul { list-style:none; display:flex; gap:20px; margin:0; padding:0; }
nav ul li a { text-decoration:none; color:#333; font-weight:bold; }
nav ul li a:hover { color:#007BFF; }
.user-icon { width:35px; height:35px; border-radius:50%; background:#007BFF; display:flex; align-items:center; justify-content:center; color:#fff; font-weight:bold; cursor:pointer; margin-left:10px; }
/* Profile Container */
.profile-container { max-width:900px; margin:50px auto; background:#fff; padding:30px; border-radius:15px; box-shadow:0 5px 15px rgba(0,0,0,0.1);}
.profile-container h2 { text-align:center; color:#007BFF; margin-bottom:20px; }
.user-details { margin-bottom:30px; }
.user-details p { font-size:18px; margin:5px 0; }
.logout-btn { background:#007BFF; color:#fff; border:none; padding:12px 25px; border-radius:50px; cursor:pointer; font-weight:bold; display:block; margin:0 auto; }
.logout-btn:hover { background:#0056b3; }
/* Cart items */
.cart-section h3 { color:#007BFF; margin-bottom:15px; }
.cart-item { display:flex; align-items:center; gap:15px; padding:10px 0; border-bottom:1px solid #ddd; }
.cart-item img { width:80px; height:80px; object-fit:cover; border-radius:5px; }
.cart-item-details { flex:1; }
.cart-item-details h4 { margin:0; font-size:16px; }
.cart-item-details p { margin:5px 0; font-weight:bold; color:#333; }
</style>
</head>
<body>

<!-- Navbar -->
<header>
  <div class="logo" onclick="location.href='index.html'">ShopSmart</div>
  <nav>
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="products.html">Products</a></li>
      <li><a href="about.html">About Us</a></li>
      <li><a href="contact.html">Contact</a></li>
    </ul>
  </nav>
  <div style="display:flex; align-items:center;">
    <div class="user-icon">U</div>
    <div class="user-icon" onclick="location.href='cart.html'">ðŸ›’ <span id="cartCount">0</span></div>
  </div>
</header>

<!-- Profile Container -->
<div class="profile-container">
  <h2>Your Profile</h2>
  <div class="user-details">
    <p><strong>Name:</strong> <span id="userName"></span></p>
    <p><strong>Email:</strong> <span id="userEmail"></span></p>
    <p><strong>Account Type:</strong> <span id="userType"></span></p>
  </div>

  <div class="cart-section">
    <h3>Your Cart Items</h3>
    <div id="cartItems">
      <!-- Cart products injected via JS -->
    </div>
  </div>

  <button class="logout-btn" id="logoutBtn">Logout</button>
</div>

<script>
// Get logged-in user
const user = JSON.parse(localStorage.getItem("loggedInUser"));
if(!user){
  alert("Please login first!");
  window.location.href="login.html";
} else {
  document.getElementById("userName").innerText = user.name;
  document.getElementById("userEmail").innerText = user.email;
  document.getElementById("userType").innerText = user.accountType;
}

// Show cart items
const cartItemsDiv = document.getElementById("cartItems");
const cart = JSON.parse(localStorage.getItem("cart")) || [];
if(cart.length === 0){
    cartItemsDiv.innerHTML = "<p>No items in your cart.</p>";
} else {
    cart.forEach(item=>{
        const div = document.createElement("div");
        div.className = "cart-item";
        div.innerHTML = `
            <img src="${item.img}" alt="${item.name}">
            <div class="cart-item-details">
                <h4>${item.name}</h4>
                <p>â‚¹${item.price.toLocaleString()} x ${item.quantity}</p>
            </div>
        `;
        cartItemsDiv.appendChild(div);
    });
}

// Update navbar cart count
function updateCartCount(){
    const count = cart.reduce((total,item)=>total+item.quantity,0);
    document.querySelector(".user-icon span").innerText = count;
}
updateCartCount();

// Logout
document.getElementById("logoutBtn").addEventListener("click",()=>{
    localStorage.removeItem("loggedInUser");
    alert("Logged out successfully!");
    window.location.href="login.html";
});
</script>

</body>
</html>
